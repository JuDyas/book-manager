{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    books: JSON.parse(localStorage.getItem('books')) || []\n  },\n  mutations: {\n    setBooks(state, books) {\n      state.books = books;\n      localStorage.setItem('books', JSON.stringify(state.books));\n    },\n    addBook(state, book) {\n      state.books.push(book);\n      localStorage.setItem('books', JSON.stringify(state.books));\n    },\n    updateBook(state, {\n      index,\n      book\n    }) {\n      state.books.splice(index, 1, book);\n      localStorage.setItem('books', JSON.stringify(state.books));\n    },\n    deleteBooksFromIndex(state, index) {\n      state.books.splice(index, state.books.length - index);\n      localStorage.setItem('books', JSON.stringify(state.books));\n    },\n    insertBookBefore(state, {\n      index,\n      book\n    }) {\n      if (index >= 0 && index < state.books.length) {\n        state.books.splice(index, 0, book);\n        localStorage.setItem('books', JSON.stringify(state.books));\n      } else {\n        alert('Некорректный индекс');\n      }\n    },\n    insertBookAfter(state, {\n      index,\n      book\n    }) {\n      if (index >= 0 && index < state.books.length) {\n        state.books.splice(index + 1, 0, book);\n        localStorage.setItem('books', JSON.stringify(state.books));\n      } else {\n        alert('Некорректный индекс');\n      }\n    }\n  },\n  actions: {\n    importBooks({\n      commit\n    }, books) {\n      commit('setBooks', books);\n    },\n    exportBooks({\n      state\n    }) {\n      return state.books;\n    },\n    addBook({\n      commit\n    }, book) {\n      commit('addBook', book);\n    },\n    updateBook({\n      commit\n    }, payload) {\n      commit('updateBook', payload);\n    },\n    deleteBooksFromIndex({\n      commit\n    }, index) {\n      commit('deleteBooksFromIndex', index);\n    },\n    insertBookBefore({\n      commit\n    }, payload) {\n      commit('insertBookBefore', payload);\n    },\n    insertBookAfter({\n      commit\n    }, payload) {\n      commit('insertBookAfter', payload);\n    }\n  },\n  getters: {\n    allBooks: state => state.books,\n    bookByIndex: state => index => state.books[index],\n    maxYear: state => Math.max(...state.books.map(book => book.year)),\n    minYear: state => Math.min(...state.books.map(book => book.year)),\n    averageYear: state => {\n      const total = state.books.reduce((acc, book) => acc + book.year, 0);\n      return total / state.books.length;\n    }\n  }\n});","map":{"version":3,"names":["createStore","state","books","JSON","parse","localStorage","getItem","mutations","setBooks","setItem","stringify","addBook","book","push","updateBook","index","splice","deleteBooksFromIndex","length","insertBookBefore","alert","insertBookAfter","actions","importBooks","commit","exportBooks","payload","getters","allBooks","bookByIndex","maxYear","Math","max","map","year","minYear","min","averageYear","total","reduce","acc"],"sources":["C:/Users/JuDya/Desktop/book-manager/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\r\n\r\nexport default createStore({\r\n    state: {\r\n        books: JSON.parse(localStorage.getItem('books')) || []\r\n    },\r\n    mutations: {\r\n        setBooks(state, books) {\r\n            state.books = books;\r\n            localStorage.setItem('books', JSON.stringify(state.books));\r\n        },\r\n        addBook(state, book) {\r\n            state.books.push(book);\r\n            localStorage.setItem('books', JSON.stringify(state.books));\r\n        },\r\n        updateBook(state, { index, book }) {\r\n            state.books.splice(index, 1, book);\r\n            localStorage.setItem('books', JSON.stringify(state.books));\r\n        },\r\n        deleteBooksFromIndex(state, index) {\r\n            state.books.splice(index, state.books.length - index);\r\n            localStorage.setItem('books', JSON.stringify(state.books));\r\n        },\r\n        insertBookBefore(state, { index, book }) {\r\n            if (index >= 0 && index < state.books.length) {\r\n                state.books.splice(index, 0, book);\r\n                localStorage.setItem('books', JSON.stringify(state.books));\r\n            } else {\r\n                alert('Некорректный индекс');\r\n            }\r\n        },\r\n        insertBookAfter(state, { index, book }) {\r\n            if (index >= 0 && index < state.books.length) {\r\n                state.books.splice(index + 1, 0, book);\r\n                localStorage.setItem('books', JSON.stringify(state.books));\r\n            } else {\r\n                alert('Некорректный индекс');\r\n            }\r\n        }\r\n    },\r\n    actions: {\r\n        importBooks({ commit }, books) {\r\n            commit('setBooks', books);\r\n        },\r\n        exportBooks({ state }) {\r\n            return state.books;\r\n        },\r\n        addBook({ commit }, book) {\r\n            commit('addBook', book);\r\n        },\r\n        updateBook({ commit }, payload) {\r\n            commit('updateBook', payload);\r\n        },\r\n        deleteBooksFromIndex({ commit }, index) {\r\n            commit('deleteBooksFromIndex', index);\r\n        },\r\n        insertBookBefore({ commit }, payload) {\r\n            commit('insertBookBefore', payload);\r\n        },\r\n        insertBookAfter({ commit }, payload) {\r\n            commit('insertBookAfter', payload);\r\n        }\r\n    },\r\n    getters: {\r\n        allBooks: state => state.books,\r\n        bookByIndex: state => index => state.books[index],\r\n        maxYear: state => Math.max(...state.books.map(book => book.year)),\r\n        minYear: state => Math.min(...state.books.map(book => book.year)),\r\n        averageYear: state => {\r\n            const total = state.books.reduce((acc, book) => acc + book.year, 0);\r\n            return total / state.books.length;\r\n        }\r\n    }\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}